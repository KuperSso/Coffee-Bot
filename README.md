# Telegram Coffee Bot (@Sakura_Michi_bot Имя бота в телеге)

## Описание проекта

Это проект Telegram-бота, который предоставляет клиентам учавствовать в акции "Соверши 9 любых покупок и получи напиток на выбор в подарок"
Сделанно по заказу Sakura Michi г.Аксай
## Функциональность

- **Регистрация** - Для того чтобы учавствовать в акции достаточно просто отправить боту свой контакт(Он сохранит данные телефона и tg id в бд)
- **Просмотр профиля** - По нажатию на кнопку "Мой Профиль" пользователю выходит информация о том какой у него балланс и сколько покупок ему предстоит совершить до получения бесплатного напитка
- **Функционал Баристы** - У баристы есть 2 функционала:
  - **Добавление Покупки** - При нажатии на эту кнопку Бариста имеет право добавить определенное кол-во покупок клиенту, тогда запрос идет в бд с добавлением пользователю этих покупок(действует как счетчик +n)
  - **Выдача Бесплатного Напитка** - Когда пользователь собирает 9 покупок, то бариста имеет право выдать ему бесплатный напиток, запрос идет в бд с вычитанием со счета пользователя 9 покупок(n-9)
- **Добавление и Увольнение Баристы** - У Владельца есть функционал такой же как у баристы и еще 2: Уволить баристу(т.е запрос идет в бд, чтобы поставить в столбце Is_admin-False) или же добавить баристу (Is_admin-True)
- **Уведомления** -
  - Для Владельца:
    - Чтобы Бариста не пытался обмануть судьбу и накинуть +100500 покупок своим корешам существует уведомление о добавлении покупок Владельцу(т.е Бариста накинул кому-то 200 покупок и Владельцу пилиньк уведомление от бота что кто-то там купил 200 например попкейков и сразу шляпа у баристы слетает со скоростью света)
  - Для Клиента:
    - Когда клиент совершает покупку и Бариста накидывает ему n-ое кол-во покупок ему приходит уведомление о том, что начисленно столько-то покупок и для бесплатного напитка осталось столько-то
    - Так же работает с выдачей бесплатного напитка, типо милое сообщение в котором уведомляется, что вам выдан напиток спасибо что пользуетесь нашей кофейней, вы для нас самый любимый покупатель(нет)

      
## Технологии

- **Язык программирования**: Python
- **Библиотека для Telegram**: Aiogram
- **База данных**: PostgreSQL
- **Инструменты для работы с БД и с Миграциями**: SqlAlchemy, Alembic
- **Интеграционные тесты**: Pytest
